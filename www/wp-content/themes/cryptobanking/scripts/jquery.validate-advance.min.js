!function(e){"function"==typeof define&&define.amd?define(["jquery","../jquery.validate"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){var a=document.vocabulary&&document.vocabulary.validation?document.vocabulary.validation:{};return e.extend(e.validator.messages,{required:a.required?a.required:"Это поле обязательно",remote:a.remote?a.remote:"Пожалуйста, введите правильное значение.",email:a.email?a.email:"Пожалуйста, введите корректный e-mail",url:a.url?a.url:"Пожалуйста, введите корректный URL.",date:a.date?a.date:"Пожалуйста, введите корректную дату.",dateISO:a.dateISO?a.dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:a.number?a.number:"Пожалуйста, введите число.",digits:a.digits?a.digits:"Пожалуйста, вводите только цифры.",creditcard:a.creditcard?a.creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:a.equalTo?a.equalTo:"Пароли не совпадают!",extension:a.extension?a.extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:e.validator.format(a.maxlength?a.maxlength:"Пожалуйста, введите не больше {0} символов."),minlength:e.validator.format(a.minlength?a.minlength:"Пожалуйста, введите не меньше {0} символов."),rangelength:e.validator.format(a.rangelength?a.rangelength:"Пожалуйста, введите значение длиной от {0} до {1} символов."),range:e.validator.format(a.range?a.range:"Пожалуйста, введите число от {0} до {1}."),max:e.validator.format(a.max?a.max:"Пожалуйста, введите число, меньшее или равное {0}."),min:e.validator.format(a.min?a.min:"Пожалуйста, введите число, большее или равное {0}.")}),e.validator.addMethod("email",(function(e,a){return this.optional(a)||/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,6}$/.test(e)}),a.email?a.email:"Введите корректный адрес эл. почты"),e})),function(){var e=$(".js-nameInput");e.length&&e.on("change keyup input click",(function(){this.value.match(/[^A-Za-zА-Яа-яЁё-\s()]/g)&&(this.value=this.value.replace(/[^A-Za-zА-Яа-яЁё-\s()]/g,""))}));var a=$("#js-msgPP"),t=a.find("#js-msgPPtext"),n="The application has been successfully sent!",r="Something went wrong, please try again later.",l=t.length&&t.attr("data-success")||n,s=t.length&&t.attr("data-error")||r;function i(e){var n=$(e),r=n.attr("action"),i=n.closest(".js-pp"),o={},d=$(e).find("input[type=text], input[type=email], textarea"),m=[];$.each(d,(function(e){var n=$(this).attr("name")||e;o[n]=$(this).val(),$(this).hasClass("js-clear")&&m.push($(this)),e==d.length-1&&$.ajax({url:r,data:o,dataType:"json",method:"POST",success:function(e){var n="object"==typeof e?e:JSON.parse(n);i.length&&i.removeClass("pp--active"),n.success?(a.length?(t.removeClass("pp__message--error"),t.text(n.message?n.message:l),a.addClass("pp--active")):alert(l),$.each(m,(function(e){$(this).val("")}))):a.length?(t.addClass("pp__message--error"),t.text(n.message?n.message:s),a.addClass("pp--active")):alert(s)},error:function(e,n,r){console.log(n),i.length&&i.removeClass("pp--active"),a.length?(t.addClass("pp__message--error"),t.text(s),a.addClass("pp--active")):alert(s)}})}))}var o=$("#js-faqForm");o.length&&o.validate({errorElement:"span",submitHandler:function(e,a){a.preventDefault(),i(e)}});var d=$("#js-supForm");d.length&&d.validate({errorElement:"span",submitHandler:function(e,a){a.preventDefault(),i(e)}});var m=$("#js-ppReg"),u=$(".js-regBtn");m.length&&u.length&&(u.on("click",(function(e){e.preventDefault(),document.documentElement.classList.add("pp-overflow"),m.addClass("pp--active")})),m.find("#js-regForm").validate({errorElement:"span",submitHandler:function(e,a){a.preventDefault(),i(e)}}))}();